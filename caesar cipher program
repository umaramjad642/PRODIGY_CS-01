def caesar_cipher(text, shift, mode='encrypt'):
    result = ""
    s = shift if mode == 'encrypt' else -shift
    for char in text:
        if char.isalpha():
            start = ord('A') if char.isupper() else ord('a')
            result += chr((ord(char) - start + s) % 26 + start)
        else:
            result += char
    return result

print("--- Prodigy Intership Task No 1 ---")

while True:
    choice = input("\nType 'E' to Encrypt, 'D' to Decrypt, or 'Q' to Quit: ").upper()
    
    if choice == 'Q':
        print("Exiting... Goodbye!")
        break
    
    if choice in ['E', 'D']:
        message = input("Enter your message: ")
        try:
            shift_value = int(input("Enter shift value (1-25): "))
            
            mode = 'encrypt' if choice == 'E' else 'decrypt'
            result = caesar_cipher(message, shift_value, mode)
            
            label = "Encrypted" if choice == 'E' else "Decrypted"
            print(f"\n{label} Message: {result}")
        except ValueError:
            print("Error: Please enter a numeric value for the shift.")
    else:
        print("Invalid choice. Please select E, D, or Q.")
